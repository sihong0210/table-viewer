<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>檢體上機進度</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>

<body>
<h1 class="title">Commercial Samples上機進度</h1>

<div id="table-container" class="loader">載入中...</div>

<script>
async function loadTable() {
  try {
    const res = await fetch('data.json');
    const data = await res.json();

    if (!Array.isArray(data) || data.length === 0) {
      document.getElementById("table-container").innerHTML = "<p>無資料</p>";
      return;
    }

    let html = "<div class='table-wrapper'><table class='data-table'>";
    html += "<thead><tr>" + Object.keys(data[0]).map(k => `<th>${k}</th>`).join("") + "</tr></thead>";

    html += "<tbody>";
    data.forEach(row => {
      html += "<tr>" + Object.values(row).map(v => `<td>${v}</td>`).join("") + "</tr>";
    });
    html += "</tbody></table></div>";

    document.getElementById("table-container").innerHTML = html;
    document.getElementById("table-container").classList.remove("loader");

  } catch (err) {
    document.getElementById("table-container").innerHTML = "<p>讀取失敗</p>";
  }
}

loadTable();
</script>

</body>
</html>
